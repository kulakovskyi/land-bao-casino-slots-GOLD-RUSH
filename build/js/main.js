"use strict";

var _this = void 0;
var icons = ['win1.png', 'win2.png', 'win3.png', 'win4.png', 'win5.png', 'win6.png', 'win7.png', 'win8.png'];
var slots = document.querySelector('.bao__slot');
var cols = document.querySelectorAll('.col');
var col1 = document.querySelector('.col-one');
var col2 = document.querySelector('.col-two');
var col3 = document.querySelector('.col-three');
for (var i in cols) {
  if (!cols.hasOwnProperty(i)) continue;
  var col = cols[i];
  var str = '';
  var firstThree = '';
  for (var x = 0; x < 30; x++) {
    var part = '<img class="icon" src="img/slots/' + icons[Math.floor(Math.random() * icons.length)] + '">';
    str += part;
    if (x < 3) firstThree += part;
  }
  var content = col.innerHTML;
  col.innerHTML = content + str + firstThree;
}
var win3 = document.querySelectorAll('.start3');
var win2 = document.querySelectorAll('.start2');
var overlay = document.querySelector('.bao__overlay');
var firstWin = document.querySelector('.bao__firstWin');
var firstWinBtn = document.querySelector('.bao__firstWin-btn');
var secondWin = document.querySelector('.bao__secondWin');
var textMain = document.querySelector('.bao__text');
var textWin = document.querySelector('.bao__textWin');
var btn = document.querySelector('.bao__btn');
var firstwinAnim = document.querySelector('.win-fire');
var secondwinAnim = document.querySelector('.win-fire-blue');
var firstWinScale = document.querySelectorAll('.win-scale');
var secondWinScale = document.querySelectorAll('.win-scale-blue');
var counter = '';
btn.addEventListener('click', function () {
  spin(_this);
  counter++;
  btn.classList.add('pointer-none');
});
firstWinBtn.addEventListener('click', function () {
  btn.classList.remove('pointer-none');
  overlay.classList.add('opacity');
  firstWin.classList.add('hidden');
  col2.classList.remove('win');
  col3.classList.remove('win');
  firstwinAnim.classList.remove('_add');
  firstWinScale.forEach(function (item) {
    item.classList.remove('_add');
  });
});
function spin(elem) {
  slots.classList.toggle('spinning', true);
  window.setTimeout(function () {
    var startIcon = document.querySelectorAll('.start');
    startIcon.forEach(function (item) {
      item.style.display = 'none';
    });
    win2.forEach(function (item) {
      item.style.display = 'block';
      item.style.transform = 'scaleX(-1) rotate(180deg)';
    });
    var icons = ['win1.png', 'win2.png', 'win3.png', 'win4.png', 'win5.png', 'win6.png', 'win7.png', 'win8.png'];
    if (counter === 1) {
      var results1 = [icons[0], icons[0], icons[0]];
      var results2 = [icons[5], icons[7], icons[6]];
      var results3 = [icons[4], icons[2], icons[3]];
      var icons = col1.querySelectorAll('.icon');
      for (var x = 0; x < 3; x++) {
        icons[x].setAttribute('src', 'img/slots/' + results1[x]);
        icons[icons.length - 3 + x].setAttribute('src', 'img/slots/' + results1[x]);
      }
      var icons2 = col2.querySelectorAll('.icon');
      var icons3 = col3.querySelectorAll('.icon');
      for (var x = 0; x < 3; x++) {
        icons2[x].setAttribute('src', 'img/slots/' + results2[x]);
        icons2[icons.length - 3 + x].setAttribute('src', 'img/slots/' + results2[x]);
        icons3[x].setAttribute('src', 'img/slots/' + results3[x]);
        icons3[icons.length - 3 + x].setAttribute('src', 'img/slots/' + results3[x]);
      }
      col2.classList.add('win');
      col3.classList.add('win');
      textWin.classList.add('visible');
      setTimeout(function () {
        firstwinAnim.classList.add('_add');
        firstWinScale.forEach(function (item) {
          item.classList.add('_add');
        });
      }, 1500);
      setTimeout(function () {
        overlay.classList.remove('opacity');
        firstWin.classList.remove('hidden');
        textMain.innerHTML = 'One attempt left';
      }, 3300);
    }
    if (counter === 2) {
      win3.forEach(function (item) {
        item.style.display = 'block';
        item.style.transform = 'scaleX(-1) rotate(180deg)';
      });
      //for ios fox
      for (var x = 0; x < 9; x++) {
        win2[0].setAttribute('src', 'img/slots/win1.png');
        win2[1].setAttribute('src', 'img/slots/win7.png');
        win2[2].setAttribute('src', 'img/slots/win6.png');
        win2[3].setAttribute('src', 'img/slots/win3.png');
        win2[4].setAttribute('src', 'img/slots/win3.png');
        win2[5].setAttribute('src', 'img/slots/win3.png');
        win2[6].setAttribute('src', 'img/slots/win5.png');
        win2[7].setAttribute('src', 'img/slots/win3.png');
        win2[8].setAttribute('src', 'img/slots/win4.png');
      }
      var results1 = [icons[0], icons[6], icons[5]];
      var results2 = [icons[2], icons[2], icons[2]];
      var icons = col1.querySelectorAll('.icon');
      var icons2 = col2.querySelectorAll('.icon');
      for (var x = 0; x < 3; x++) {
        icons[x].setAttribute('src', 'img/slots/' + results1[x]);
        icons[icons.length - 3 + x].setAttribute('src', 'img/slots/' + results1[x]);
        icons2[x].setAttribute('src', 'img/slots/' + results2[x]);
        icons2[icons.length - 3 + x].setAttribute('src', 'img/slots/' + results2[x]);
      }
      col1.classList.add('win');
      col3.classList.add('win');
      setTimeout(function () {
        secondwinAnim.classList.add('_add');
        secondWinScale.forEach(function (item) {
          item.classList.add('_add');
        });
      }, 1500);
      setTimeout(function () {
        overlay.classList.remove('opacity');
        secondWin.classList.remove('hidden');
      }, 3300);
    }
  }, 1500);
  window.setTimeout(function () {
    slots.classList.toggle('spinning', false);
  }.bind(elem), 3500);
}
"use strict";
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJzZWNvbmQuanMiXSwibmFtZXMiOlsiaWNvbnMiLCJzbG90cyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29sMSIsImNvbDIiLCJjb2wzIiwiaSIsImhhc093blByb3BlcnR5IiwiY29sIiwic3RyIiwiZmlyc3RUaHJlZSIsIngiLCJwYXJ0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwiY29udGVudCIsImlubmVySFRNTCIsIndpbjMiLCJ3aW4yIiwib3ZlcmxheSIsImZpcnN0V2luIiwiZmlyc3RXaW5CdG4iLCJzZWNvbmRXaW4iLCJ0ZXh0TWFpbiIsInRleHRXaW4iLCJidG4iLCJmaXJzdHdpbkFuaW0iLCJzZWNvbmR3aW5BbmltIiwiZmlyc3RXaW5TY2FsZSIsInNlY29uZFdpblNjYWxlIiwiY291bnRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJzcGluIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiZm9yRWFjaCIsIml0ZW0iLCJlbGVtIiwidG9nZ2xlIiwid2luZG93Iiwic2V0VGltZW91dCIsInN0YXJ0SWNvbiIsInN0eWxlIiwiZGlzcGxheSIsInRyYW5zZm9ybSIsInJlc3VsdHMxIiwicmVzdWx0czIiLCJyZXN1bHRzMyIsInNldEF0dHJpYnV0ZSIsImljb25zMiIsImljb25zMyIsImJpbmQiXSwibWFwcGluZ3MiOiI7OztBQUFBLElBQUlBLEtBQUssR0FBRyxDQUNSLFVBQVUsRUFBQyxVQUFVLEVBQUMsVUFBVSxFQUFDLFVBQVUsRUFBQyxVQUFVLEVBQUMsVUFBVSxFQUFDLFVBQVUsRUFBQyxVQUFVLENBQzFGO0FBRUQsSUFBSUMsS0FBSyxHQUFHQyxRQUFRLENBQUNDLGFBQWEsQ0FBQyxZQUFZLENBQUM7QUFDaEQsSUFBSUMsSUFBSSxHQUFHRixRQUFRLENBQUNHLGdCQUFnQixDQUFDLE1BQU0sQ0FBQztBQUM1QyxJQUFJQyxJQUFJLEdBQUdKLFFB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QixJQUFJLENBQUM4QixTQUFTLENBQUNDLEdBQUcsQ0FBQyxLQUFLLENBQUM7TUFDekJPLFVBQVUsQ0FBQyxZQUFNO1FBQ2JkLGFBQWEsQ0FBQ00sU0FBUyxDQUFDQyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQ25DTCxjQUFjLENBQUNPLE9BQU8sQ0FBQyxVQUFBQyxJQUFJLEVBQUU7VUFDekJBLElBQUksQ0FBQ0osU0FBUyxDQUFDQyxHQUFHLENBQUMsTUFBTSxDQUFDO1FBQzlCLENBQUMsQ0FBQztNQUNOLENBQUMsRUFBRSxJQUFJLENBQUM7TUFFUk8sVUFBVSxDQUFDLFlBQU07UUFDYnRCLE9BQU8sQ0FBQ2MsU0FBUyxDQUFDRSxNQUFNLENBQUMsU0FBUyxDQUFDO1FBQ25DYixTQUFTLENBQUNXLFNBQVMsQ0FBQ0UsTUFBTSxDQUFDLFFBQVEsQ0FBQztNQUN4QyxDQUFDLEVBQUUsSUFBSSxDQUFDO0lBQ1o7RUFDUixDQUFDLEVBQUUsSUFBSSxDQUFDO0VBR1JLLE1BQU0sQ0FBQ0MsVUFBVSxDQUFDLFlBQVc7SUFDekI3QyxLQUFLLENBQUNxQyxTQUFTLENBQUNNLE1BQU0sQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDO0VBRTdDLENBQUMsQ0FBQ2EsSUFBSSxDQUFDZCxJQUFJLENBQUMsRUFBRSxJQUFJLENBQUM7QUFDdkI7QUNyTEEiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBpY29ucyA9IFtcbiAgICAnd2luMS5wbmcnLCd3aW4yLnBuZycsJ3dpbjMucG5nJywnd2luNC5wbmcnLCd3aW41LnBuZycsJ3dpbjYucG5nJywnd2luNy5wbmcnLCd3aW44LnBuZydcbl07XG5cbnZhciBzbG90cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW9fX3Nsb3QnKTtcbnZhciBjb2xzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNvbCcpO1xudmFyIGNvbDEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29sLW9uZScpO1xudmFyIGNvbDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29sLXR3bycpO1xudmFyIGNvbDMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29sLXRocmVlJyk7XG5mb3IodmFyIGkgaW4gY29scykge1xuICAgIGlmICghY29scy5oYXNPd25Qcm9wZXJ0eShpKSlcbiAgICAgICAgY29udGludWU7XG4gICAgdmFyIGNvbCA9IGNvbHNbaV07XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHZhciBmaXJzdFRocmVlID0gJyc7XG4gICAgZm9yKHZhciB4ID0gMDsgeCA8IDMwOyB4KyspIHtcbiAgICAgICAgdmFyIHBhcnQgPSAnPGltZyBjbGFzcz1cImljb25cIiBzcmM9XCJpbWcvc2xvdHMvJytpY29uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqaWNvbnMubGVuZ3RoKV0rJ1wiPic7XG4gICAgICAgIHN0ciArPSBwYXJ0XG4gICAgICAgIGlmICh4IDwgMykgZmlyc3RUaHJlZSArPSBwYXJ0O1xuICAgIH1cbiAgICBsZXQgY29udGVudCA9IGNvbC5pbm5lckhUTUxcbiAgICBjb2wuaW5uZXJIVE1MID0gY29udGVudCArIHN0citmaXJzdFRocmVlO1xufVxuXG5sZXQgd2luMyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFydDMnKVxubGV0IHdpbjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhcnQyJylcbmxldCBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhb19fb3ZlcmxheScpXG5sZXQgZmlyc3RXaW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFvX19maXJzdFdpbicpXG5sZXQgZmlyc3RXaW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFvX19maXJzdFdpbi1idG4nKVxubGV0IHNlY29uZFdpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iYW9fX3NlY29uZFdpbicpXG5sZXQgdGV4dE1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYmFvX190ZXh0JylcbmxldCB0ZXh0V2luID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhb19fdGV4dFdpbicpXG5sZXQgYnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJhb19fYnRuJylcbmxldCBmaXJzdHdpbkFuaW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luLWZpcmUnKVxubGV0IHNlY29uZHdpbkFuaW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2luLWZpcmUtYmx1ZScpXG5sZXQgZmlyc3RXaW5TY2FsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53aW4tc2NhbGUnKVxubGV0IHNlY29uZFdpblNjYWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndpbi1zY2FsZS1ibHVlJylcbmxldCBjb3VudGVyID0gJydcblxuYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PiB7XG4gICAgc3Bpbih0aGlzKVxuICAgIGNvdW50ZXIrK1xuICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdwb2ludGVyLW5vbmUnKVxufSlcblxuZmlyc3RXaW5CdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+IHtcbiAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSgncG9pbnRlci1ub25lJylcbiAgICBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ29wYWNpdHknKVxuICAgIGZpcnN0V2luLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgY29sMi5jbGFzc0xpc3QucmVtb3ZlKCd3aW4nKVxuICAgIGNvbDMuY2xhc3NMaXN0LnJlbW92ZSgnd2luJylcbiAgICBmaXJzdHdpbkFuaW0uY2xhc3NMaXN0LnJlbW92ZSgnX2FkZCcpXG4gICAgZmlyc3RXaW5TY2FsZS5mb3JFYWNoKGl0ZW09PntcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdfYWRkJylcbiAgICB9KVxufSlcblxuZnVuY3Rpb24gc3BpbihlbGVtKSB7XG4gICAgc2xvdHMuY2xhc3NMaXN0LnRvZ2dsZSgnc3Bpbm5pbmcnLCB0cnVlKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IHN0YXJ0SWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFydCcpXG4gICAgICAgIHN0YXJ0SWNvbi5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgICAgIH0pXG4gICAgICAgIHdpbjIuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgIGl0ZW0uc3R5bGUuZGlzcGxheSA9ICdibG9jaydcbiAgICAgICAgICAgIGl0ZW0uc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgtMSkgcm90YXRlKDE4MGRlZyknXG4gICAgICAgIH0pXG4gICAgICAgICAgICB2YXIgaWNvbnMgPSBbXG4gICAgICAgICAgICAgICAgJ3dpbjEucG5nJywnd2luMi5wbmcnLCd3aW4zLnBuZycsJ3dpbjQucG5nJywnd2luNS5wbmcnLCd3aW42LnBuZycsJ3dpbjcucG5nJywnd2luOC5wbmcnXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBpZihjb3VudGVyID09PSAxKXtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0czEgPSBbXG4gICAgICAgICAgICAgICAgICAgIGljb25zWzBdLFxuICAgICAgICAgICAgICAgICAgICBpY29uc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbnNbMF1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHMyID0gW1xuICAgICAgICAgICAgICAgICAgICBpY29uc1s1XSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbnNbN10sXG4gICAgICAgICAgICAgICAgICAgIGljb25zWzZdXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIHZhciByZXN1bHRzMyA9IFtcbiAgICAgICAgICAgICAgICAgICAgaWNvbnNbNF0sXG4gICAgICAgICAgICAgICAgICAgIGljb25zWzJdLFxuICAgICAgICAgICAgICAgICAgICBpY29uc1szXVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB2YXIgaWNvbnMgPSBjb2wxLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY29uJyk7XG4gICAgICAgICAgICAgICAgZm9yKHZhciB4ID0gMDsgeCA8IDM7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICBpY29uc1t4XS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJytyZXN1bHRzMVt4XSk7XG4gICAgICAgICAgICAgICAgICAgIGljb25zWyhpY29ucy5sZW5ndGgtMykreF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrcmVzdWx0czFbeF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgaWNvbnMyID0gY29sMi5xdWVyeVNlbGVjdG9yQWxsKCcuaWNvbicpO1xuICAgICAgICAgICAgICAgIHZhciBpY29uczMgPSBjb2wzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY29uJyk7XG4gICAgICAgICAgICAgICAgZm9yKHZhciB4ID0gMDsgeCA8IDM7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICBpY29uczJbeF0uc2V0QXR0cmlidXRlKCdzcmMnLCAnaW1nL3Nsb3RzLycrcmVzdWx0czJbeF0pO1xuICAgICAgICAgICAgICAgICAgICBpY29uczJbKGljb25zLmxlbmd0aC0zKSt4XS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJytyZXN1bHRzMlt4XSk7XG4gICAgICAgICAgICAgICAgICAgIGljb25zM1t4XS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJytyZXN1bHRzM1t4XSk7XG4gICAgICAgICAgICAgICAgICAgIGljb25zM1soaWNvbnMubGVuZ3RoLTMpK3hdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nK3Jlc3VsdHMzW3hdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb2wyLmNsYXNzTGlzdC5hZGQoJ3dpbicpXG4gICAgICAgICAgICAgICAgY29sMy5jbGFzc0xpc3QuYWRkKCd3aW4nKVxuICAgICAgICAgICAgICAgIHRleHRXaW4uY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0d2luQW5pbS5jbGFzc0xpc3QuYWRkKCdfYWRkJylcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RXaW5TY2FsZS5mb3JFYWNoKGl0ZW09PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnX2FkZCcpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSwgMTUwMClcblxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnb3BhY2l0eScpXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0V2luLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXG4gICAgICAgICAgICAgICAgICAgIHRleHRNYWluLmlubmVySFRNTCA9ICdPbmUgYXR0ZW1wdCBsZWZ0J1xuXG4gICAgICAgICAgICAgICAgfSwgMzMwMCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGNvdW50ZXIgPT09IDIpe1xuXG4gICAgICAgICAgICAgICAgd2luMy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBpdGVtLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWCgtMSkgcm90YXRlKDE4MGRlZyknXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvL2ZvciBpb3MgZm94XG4gICAgICAgICAgICAgICAgZm9yKHZhciB4ID0gMDsgeCA8IDk7IHgrKykge1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzBdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW4xLnBuZycpO1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzFdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW43LnBuZycpO1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzJdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW42LnBuZycpO1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzNdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW4zLnBuZycpO1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzRdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW4zLnBuZycpO1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzVdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW4zLnBuZycpO1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzZdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW41LnBuZycpO1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzddLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW4zLnBuZycpO1xuICAgICAgICAgICAgICAgICAgICB3aW4yWzhdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy93aW40LnBuZycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciByZXN1bHRzMSA9IFtcbiAgICAgICAgICAgICAgICAgICAgaWNvbnNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGljb25zWzZdLFxuICAgICAgICAgICAgICAgICAgICBpY29uc1s1XVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0czIgPSBbXG4gICAgICAgICAgICAgICAgICAgIGljb25zWzJdLFxuICAgICAgICAgICAgICAgICAgICBpY29uc1syXSxcbiAgICAgICAgICAgICAgICAgICAgaWNvbnNbMl1cbiAgICAgICAgICAgICAgICBdXG5cbiAgICAgICAgICAgICAgICB2YXIgaWNvbnMgPSBjb2wxLnF1ZXJ5U2VsZWN0b3JBbGwoJy5pY29uJyk7XG4gICAgICAgICAgICAgICAgdmFyIGljb25zMiA9IGNvbDIucXVlcnlTZWxlY3RvckFsbCgnLmljb24nKTtcbiAgICAgICAgICAgICAgICBmb3IodmFyIHggPSAwOyB4IDwgMzsgeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGljb25zW3hdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nK3Jlc3VsdHMxW3hdKTtcbiAgICAgICAgICAgICAgICAgICAgaWNvbnNbKGljb25zLmxlbmd0aC0zKSt4XS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJytyZXN1bHRzMVt4XSk7XG4gICAgICAgICAgICAgICAgICAgIGljb25zMlt4XS5zZXRBdHRyaWJ1dGUoJ3NyYycsICdpbWcvc2xvdHMvJytyZXN1bHRzMlt4XSk7XG4gICAgICAgICAgICAgICAgICAgIGljb25zMlsoaWNvbnMubGVuZ3RoLTMpK3hdLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ltZy9zbG90cy8nK3Jlc3VsdHMyW3hdKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb2wxLmNsYXNzTGlzdC5hZGQoJ3dpbicpXG4gICAgICAgICAgICAgICAgY29sMy5jbGFzc0xpc3QuYWRkKCd3aW4nKVxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZWNvbmR3aW5BbmltLmNsYXNzTGlzdC5hZGQoJ19hZGQnKVxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRXaW5TY2FsZS5mb3JFYWNoKGl0ZW09PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LmFkZCgnX2FkZCcpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSwgMTUwMClcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHknKVxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRXaW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJylcbiAgICAgICAgICAgICAgICB9LCAzMzAwKTtcbiAgICAgICAgICAgIH1cbiAgICB9LCAxNTAwKTtcblxuXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHNsb3RzLmNsYXNzTGlzdC50b2dnbGUoJ3NwaW5uaW5nJywgZmFsc2UpO1xuXG4gICAgfS5iaW5kKGVsZW0pLCAzNTAwKTtcbn1cbiIsIiJdfQ==
